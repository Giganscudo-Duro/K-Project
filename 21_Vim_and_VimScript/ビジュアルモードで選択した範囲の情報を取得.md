# 参考URL
https://nanasi.jp/articles/code/screen/visual.html
https://tanakatarou.tech/598/

# ビジュアルモードの選択情報の取得
## ビジュアル選択の範囲の取得
```
:let pos = getpos(".")

:normal `<
:echo line(".")
:echo col(".")
"# => 選択開始位置を出力

:normal `>
:echo line(".")
:echo col(".")
"# => 選択終了位置を出力

:call setpos('.', pos)
```


## ビジュアルモードで選択したテキストを取得する
```
:let tmp = @@           " 変数 tmp に「@@（直前に実施したマクロの内容）」を格納
:silent normal gvy      " ビジュアルモードで選択した範囲をヤンク（サイレントモードで）
:let selected = @@      " 変数 selected に「@@（直前に実施したマクロの内容）」を格納
:let @@ = tmp           " 「@@（直前に実施したマクロの内容）」に対し、もともとの内容である tmp を格納
:echo selected          " selected の内容をecho
"# => 選択したテキストを出力
```



# 応用
```
let tmp = @@
silent normal gvy
let selected = @@
let @@ = tmp
echo selected
"# => 選択したテキストを出力

```




このつぶやきから１か月経つけど、薬もらって抑えてるレベルやね。
咳は多少はマシになった気もするけど頭が"ぐゎんぐゎんするようになった"というか、お仕事で正規表現考えてるときに自分でも何が何だか分からなくなって、戸惑ったね。
いやぁ努力不足やスキル不足と言われたらそれまでかもしれんけど。

























